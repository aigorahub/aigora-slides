# Presentation Polish - TODO List

This list captures outstanding issues and planned enhancements for the Eleventy presentation project.

## Critical Issues & Bugs

1.  **Table Slide - Header Row Not Rendering Correctly:**
    *   **Symptom:** The table header row (`<thead>`) is either not visible, or its text is not styled as intended (e.g., white text on a white background, not centered, wrong font).
    *   **Attempts Made:**
        *   Simplified HTML in `src/_includes/slide.njk` for `<thead>`, `<tr>` (in head), and `<th>` to remove conflicting Tailwind classes.
        *   Applied highly specific CSS rules in `src/css/styles.css` with `!important` for all header properties (background, color, font, padding, alignment, etc.) using selectors like `table.interactive-table > thead > tr > th.sortable-header`.
    *   **Next Steps (Troubleshooting):**
        *   **Live DOM Inspection:** Use browser developer tools to inspect the `<table>`, `<thead>`, `<tr>`, and `<th>` elements on the table slide.
            *   Verify the elements are actually present in the rendered DOM.
            *   Check the "Computed" styles for the `<thead> tr` (for background) and `<th>` elements (for text color, font, etc.). Identify which CSS rules are being applied and if any unexpected rules are overriding the intended styles.
            *   Look for any inline styles that might have been added unexpectedly.
            *   Check for JavaScript errors in the console that might be preventing CSS application or altering the DOM in an unforeseen way *after* initial render.
        *   **CSS Variable Check:** Ensure `--color-sgBlue`, `--color-darkBlue`, and `--color-white` are correctly defined and accessible where the table CSS is applied.
        *   **Incremental Styling:** Temporarily remove all other CSS for the table slide (rows, body, etc.) and apply *only* the most basic `thead tr { background-color: blue !important; }` and `th { color: white !important; }` to see if even that works. If not, there's a very fundamental issue.
        *   **Consider a Different HTML Structure for Header:** If direct styling of `thead > tr > th` fails, consider wrapping the header text in `<div>` or `<span>` within the `<th>` and styling those inner elements, though this shouldn't be necessary.

2.  **Radar Chart - Legend Label Colors Not Toggling Correctly on Selection:**
    *   **Symptom:** While deselected items are greyed out and strikethrough is gone, re-selecting an item does not correctly re-apply its active color to the legend label text and/or point style.
    *   **Current Logic (`src/js/components/radar-chart.js`):**
        *   `generateLabels` uses `chart.data.datasets[datasetIndex].hidden` as the source of truth for styling.
        *   `onClick` toggles `ci.data.datasets[index].hidden` AND `meta.hidden` before calling `ci.update()`.
    *   **Next Steps (Troubleshooting with Console Logs - to be resumed by user):**
        *   Examine the `console.log` outputs previously added to `generateLabels` when clicking legend items.
        *   **Focus on:** When a legend item is clicked to *select* it (make it active):
            *   Does the log show `currentDataset.hidden` as `false` (as expected for an active item)?
            *   Does the log show `currentDataset.borderColor` as the correct active color (e.g., blue, green, red)?
            *   If both are correct, why are `label.fillStyle`, `label.strokeStyle`, and `label.fontColor` not being set to `currentDataset.borderColor` effectively?
        *   **Possible Issues:**
            *   The `chart.update()` call might not be triggering `generateLabels` in a way that uses the *just-updated* `chart.data.datasets[index].hidden` state immediately, or there's a subtle timing issue.
            *   The `Chart.defaults.plugins.legend.labels.generateLabels(chart)` call might be caching or providing labels with outdated properties that aren't fully overridden.
            *   Consider if the `originalDefaultLabels` array properties are writeable in the way we expect after being generated by the default Chart.js function.

## Visual Polish & Refinements

1.  **Vertical Spacing Across All Slides:**
    *   **Symptom:** Text elements (titles, paragraphs) are often too close to other objects/components (charts, images, tables, etc.).
    *   **Action Taken:** A pass was made through `src/_includes/slide.njk` to increase `mb-*` (margin-bottom) and `mt-*` (margin-top) Tailwind classes on various elements.
    *   **Next Steps:**
        *   **Systematic Review:** Go through each slide type in `src/_includes/slide.njk` one by one.
        *   **Identify Closeness:** For each title (`<h2>`), content paragraph (`<p>`), or list (`<ul>`), check the spacing between it and the element immediately following it (or preceding it, if applicable).
        *   **Adjust Margins:** Incrementally increase `mb-*` classes on the upper element or `mt-*` on the lower element until a comfortable visual separation is achieved. Aim for consistency where appropriate (e.g., all slide titles having a similar bottom margin before their main content block).
        *   **Consider Line Height:** Ensure `line-height` for text blocks (`prose`, paragraphs) is adequate. Tailwind's `prose` usually handles this well, but custom text blocks might need a look.
        *   **Test in Light and Dark Modes:** Ensure spacing feels good in both themes.

## General Housekeeping

1.  **Review Tailwind CSS Usage:**
    *   The note `cdn.tailwindcss.com should not be used in production` is still present. For a real deployment, Tailwind CSS should be integrated into the build process (e.g., via PostCSS with Eleventy).
    *   **Action:** For this demo project, using the CDN is acceptable, but keep this in mind for future development if the project were to go live. 